# Java JAR MCP Server - VSCode æ‰©å±•

[English](README.md) | [ä¸­æ–‡](README.zh-CN.md) | [æ—¥æœ¬èª](README.ja-JP.md)

ä¸€ä¸ªä¸º Java Maven é¡¹ç›®æä¾› MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡å™¨åŠŸèƒ½çš„ VSCode æ‰©å±•ã€‚è¯¥æ‰©å±•ä½¿ AI åŠ©æ‰‹èƒ½å¤Ÿè®¿é—® Maven ä¾èµ–ä¸­çš„ Java ç±»å®šä¹‰ï¼Œè§£å†³äº† Cursor å’Œå…¶ä»– åŸºäºVSCode çš„ IDE æ— æ³•è‡ªåŠ¨è¯»å– jar æ–‡ä»¶ç±»çš„é™åˆ¶ã€‚

## ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [å®‰è£…](#å®‰è£…)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [å·¥ä½œåŸç†](#å·¥ä½œåŸç†)
- [é…ç½®](#é…ç½®)
- [å¼€å‘](#å¼€å‘)
- [MCP èµ„æº](#mcp-èµ„æº)
- [é™åˆ¶](#é™åˆ¶)
- [æœªæ¥æ”¹è¿›](#æœªæ¥æ”¹è¿›)
- [æ”¯æŒä¸æèµ ](#æ”¯æŒä¸æèµ )
- [è®¸å¯è¯](#è®¸å¯è¯)

## åŠŸèƒ½ç‰¹æ€§

- **è‡ªåŠ¨ Maven é¡¹ç›®æ£€æµ‹**ï¼šé€šè¿‡æŸ¥æ‰¾ `pom.xml` è‡ªåŠ¨æ£€æµ‹ Maven é¡¹ç›®
- **ç±»å®šä¹‰æŸ¥æ‰¾**ï¼šä» Maven ä¾èµ–ä¸­æŸ¥æ‰¾ Java ç±»å®šä¹‰
- **ä¾èµ–åˆ—è¡¨**ï¼šåˆ—å‡ºé¡¹ç›®çš„æ‰€æœ‰ Maven ä¾èµ–
- **JAR ç±»æœç´¢**ï¼šä½¿ç”¨æ¨¡å¼åœ¨ JAR æ–‡ä»¶ä¸­æœç´¢ç±»

## æ¶æ„è®¾è®¡

æ‰©å±•ç”±ä¸¤ä¸ªä¸»è¦ç»„ä»¶ç»„æˆï¼š

1. **VSCode æ‰©å±•** (`src/`)ï¼šç®¡ç†å·¥ä½œåŒºæ–‡ä»¶å¤¹å¹¶ç”Ÿæˆ MCP æœåŠ¡å™¨è¿›ç¨‹
2. **MCP æœåŠ¡å™¨** (`mcp-server/`)ï¼šä¸º AI æä¾›æŸ¥è¯¢ Java ç±»ä¿¡æ¯çš„å·¥å…·å’Œèµ„æº

## å®‰è£…

### å‰ç½®è¦æ±‚

- Node.js 18+
- VSCode 1.102+
- å·²å®‰è£… Mavenï¼ˆç”¨äº Maven é¡¹ç›®ï¼‰

### ä»æºç æ„å»º

1. å…‹éš†ä»“åº“
2. å®‰è£…ä¾èµ–ï¼š
   ```bash
   npm install
   cd mcp-server
   npm install
   cd ..
   ```

3. æ„å»ºæ‰©å±•å’Œ MCP æœåŠ¡å™¨ï¼š
   ```bash
   npm run compile
   npm run build:mcp
   ```

4. æ‰“åŒ…æ‰©å±•ï¼š
   ```bash
   npm run package
   ```

5. åœ¨ VSCode ä¸­å®‰è£… `.vsix` æ–‡ä»¶ï¼š
   - æ‰“å¼€ VSCode
   - è½¬åˆ°æ‰©å±•è§†å›¾
   - ç‚¹å‡» "..." èœå• â†’ "ä» VSIX å®‰è£…..."
   - é€‰æ‹©ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶

## ä½¿ç”¨æ–¹æ³•

1. æ‰“å¼€åŒ…å« Maven é¡¹ç›®çš„å·¥ä½œåŒºæ–‡ä»¶å¤¹ï¼ˆåŒ…å« `pom.xml`ï¼‰
2. æ‰©å±•å°†è‡ªåŠ¨æ¿€æ´»å¹¶ä¸ºè¯¥å·¥ä½œåŒºå¯åŠ¨ MCP æœåŠ¡å™¨
3. MCP æœåŠ¡å™¨ä¸º AI åŠ©æ‰‹æä¾›ä»¥ä¸‹å·¥å…·ï¼š

### å¯ç”¨çš„ MCP å·¥å…·

#### `find_class_definition`
ä» Maven ä¾èµ–ä¸­æŸ¥æ‰¾ Java ç±»çš„å®šä¹‰ã€‚

**å‚æ•°ï¼š**
- `className` (string, å¿…éœ€)ï¼šå®Œå…¨é™å®šç±»åï¼ˆä¾‹å¦‚ï¼š`java.util.ArrayList`ï¼‰
- `pomPath` (string, å¿…éœ€)ï¼špom.xml æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š`"/path/to/project/pom.xml"`ï¼‰

**è¿”å›ï¼š** åŒ…å«æºä»£ç ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€æ–¹æ³•å’Œå­—æ®µçš„ç±»å®šä¹‰

**ç¤ºä¾‹ï¼š**
```json
{
  "className": "com.alibaba.fastjson2.filter.BeforeFilter",
  "pomPath": "/path/to/project/pom.xml"
}
```

#### `list_project_dependencies`
åˆ—å‡ºé¡¹ç›®çš„æ‰€æœ‰ Maven ä¾èµ–ã€‚

**å‚æ•°ï¼š**
- `pomPath` (string, å¿…éœ€)ï¼špom.xml æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š`"/path/to/project/pom.xml"`ï¼‰

**è¿”å›ï¼š** åŒ…å« JAR æ–‡ä»¶è·¯å¾„çš„ä¾èµ–åˆ—è¡¨

#### `search_classes_in_jar`
åœ¨ JAR æ–‡ä»¶ä¸­æœç´¢åŒ¹é…æ¨¡å¼çš„ç±»ã€‚

**å‚æ•°ï¼š**
- `jarPath` (string)ï¼šJAR æ–‡ä»¶çš„è·¯å¾„
- `searchPattern` (string)ï¼šæœç´¢æ¨¡å¼ï¼ˆæ”¯æŒé€šé…ç¬¦ `*` å’Œ `?`ï¼‰

**è¿”å›ï¼š** åŒ¹é…çš„ç±»ååˆ—è¡¨

## é…ç½®

å¦‚æœä½¿ç”¨å…¨å±€ MCP é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ `~/.cursor/mcp.json`ï¼‰ï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š

```json
{
  "mcpServers": {
    "java-jar-mcp": {
      "command": "sh",
      "args": [
        "-c",
        "node \"$(ls -d /Users/username/.cursor/extensions/javajarmcp.javajarmcp-* 2>/dev/null | sort -V -r | head -n 1)/mcp-server/dist/index.js\""
      ],
      "env": {
        "MAVEN_REPO_PATH": "/Users/username/.m2/repository"
      },
      "disabled": false
    }
  }
}
```

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
java-jar-mcp-extension/
â”œâ”€â”€ src/                      # VSCode æ‰©å±•ä»£ç 
â”‚   â”œâ”€â”€ extension.ts         # æ‰©å±•å…¥å£ç‚¹
â”‚   â”œâ”€â”€ mcpClientManager.ts  # MCP å®¢æˆ·ç«¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â””â”€â”€ workspaceManager.ts  # å·¥ä½œåŒºæ£€æµ‹å’Œ Maven é…ç½®
â”œâ”€â”€ mcp-server/              # MCP æœåŠ¡å™¨ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts         # MCP æœåŠ¡å™¨å…¥å£ç‚¹
â”‚   â”‚   â”œâ”€â”€ mavenParser.ts   # pom.xml è§£æ
â”‚   â”‚   â”œâ”€â”€ jarLocator.ts    # JAR æ–‡ä»¶å®šä½
â”‚   â”‚   â”œâ”€â”€ classExtractor.ts # ç±»å®šä¹‰æå–
â”‚   â”‚   â”œâ”€â”€ tools.ts         # MCP å·¥å…·å®ç°
â”‚   â”‚   â””â”€â”€ cache.ts         # LRU ç¼“å­˜å®ç°
â”‚   â””â”€â”€ dist/                # ç¼–è¯‘åçš„ MCP æœåŠ¡å™¨
â””â”€â”€ out/                     # ç¼–è¯‘åçš„æ‰©å±•
```

### æ„å»º

```bash
# æ„å»ºæ‰©å±•
npm run compile

# æ„å»º MCP æœåŠ¡å™¨
npm run build:mcp

# æ‰“åŒ…
npm run package
```

### æµ‹è¯•

1. åœ¨ VSCode ä¸­æ‰“å¼€ Maven é¡¹ç›®
2. æ£€æŸ¥è¾“å‡ºé¢æ¿ä¸­çš„ MCP æœåŠ¡å™¨æ—¥å¿—
3. ä½¿ç”¨æ”¯æŒ MCP çš„ AI åŠ©æ‰‹æµ‹è¯•å·¥å…·

## é™åˆ¶

- ç›®å‰æ”¯æŒåŸºæœ¬çš„ Maven ä¾èµ–è§£æï¼ˆç›´æ¥ä¾èµ–ï¼‰
- ç±»æ–‡ä»¶è§£æå·²ç®€åŒ–ï¼ˆå®Œæ•´å®ç°éœ€è¦ Java ç±»æ–‡ä»¶è§£æå™¨ï¼‰
- å¤šæ¨¡å—é¡¹ç›®ï¼šä½¿ç”¨ `pomPath` å‚æ•°æŒ‡å®šä¸åŒæ¨¡å—çš„ pom.xml æ–‡ä»¶
- å±æ€§è§£æï¼šåŸºæœ¬çš„ Maven å±æ€§è§£æï¼ˆä¸å¤„ç†æ‰€æœ‰æƒ…å†µï¼‰

## æœªæ¥æ”¹è¿›

- å®Œæ•´çš„ Maven ä¾èµ–æ ‘è§£æï¼ˆåŒ…æ‹¬ä¼ é€’ä¾èµ–ï¼‰
- ä½¿ç”¨ `java-class-tools` æˆ–ç±»ä¼¼å·¥å…·æ›´å¥½åœ°è§£æç±»æ–‡ä»¶
- æ”¯æŒ Gradle é¡¹ç›®
- å¢å¼ºçš„ Maven å±æ€§è§£æ
- è‡ªåŠ¨å¤šæ¨¡å—é¡¹ç›®æ£€æµ‹å’Œä¾èµ–åˆå¹¶

## æ”¯æŒä¸æèµ 

å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªæ‰©å±•æœ‰ç”¨å¹¶æƒ³æ”¯æŒå…¶å¼€å‘ï¼Œå¦‚æœæ‚¨èƒ½è¯·æˆ‘å–æ¯å’–å•¡ï¼Œæˆ‘å°†ä¸èƒœæ„Ÿæ¿€ï¼â˜•

æ‚¨çš„æ”¯æŒå¸®åŠ©æˆ‘ç»§ç»­æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼Œä¸ºå¼€å‘è€…ç¤¾åŒºåˆ›å»ºæ›´å¤šæœ‰ç”¨çš„å·¥å…·ã€‚

![Buy Me a Coffee](https://github.com/biggerball/java-jar-mcp/raw/HEAD/assets/coffee-qr-code.png)

*å¦‚æœæ‚¨å–œæ¬¢ä½¿ç”¨è¿™ä¸ªæ‰©å±•ï¼Œæ‚¨çš„æ”¯æŒå¯¹æˆ‘æ¥è¯´æ„ä¹‰é‡å¤§ã€‚è°¢è°¢ï¼* ğŸ™

## è®¸å¯è¯

MIT
